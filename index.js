(()=>{function p(e,t){return t.reduce((n,a)=>({...n,[a]:e[a]}),{})}var h=async e=>{let t=e.headers.get("content-type");return(t==null?void 0:t.includes("application/json"))?e.json():e},i=async e=>{let t={...p(e,["status","statusText"]),headers:Object.fromEntries(e.headers.entries()),data:await h(e)};return e.ok?t:Promise.reject({response:t})};var o=class{constructor(){this.init={method:"GET",headers:new Headers};this.url=""}query(t){return this.params={...this.params,...t},this}send(t){return this.data={...this.data,...t},this}then(t,n){let a=new URL(this.url);return a.search=new URLSearchParams(this.params).toString(),this.data&&(this.init.body=JSON.stringify(this.data),this.init.headers.append("Content-Type","application/json")),fetch(a.toString(),this.init).then(i).then(t,n)}};function s(e){let t=new o;return t.url=e,t}function r(e){return t=>{let n=s(t);return n.init.method=e,n}}s.get=s;s.post=r("POST");s.patch=r("PATCH");s.put=r("PUT");s.del=r("DELETE");s.head=r("HEAD");s.options=r("OPTIONS");var u=s;})();
